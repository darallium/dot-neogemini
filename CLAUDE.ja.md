# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリのコードを扱う際のガイダンスを提供します。
CLAUDE.ja.md は、Neovim の設定リポジトリに関する情報を提供し、コードの構造、プラグイン管理、主要な機能、および一般的な操作方法を説明します。

## リポジトリの概要

これは、Lazy.nvim プラグインマネージャーを使用した Neovim の設定リポジトリです。この設定は、モダンな Neovim 開発環境のための Lua ベースのセットアップとして構成されています。

## アーキテクチャ

### コア構造
- `init.lua` - Lazy.nvim をブートストラップし、コアモジュールをロードするメインエントリポイント
- `lua/core/` - コア設定モジュール（オプション、キーマップ、グローバル設定）
- `lua/plugins/` - 機能ごとに整理されたプラグイン設定
- `lua/keymap/` - 追加のキーマップ設定
- `lazy-lock.json` - プラグインのバージョンロックファイル（package-lock.json に類似）

### プラグイン管理
- プラグインマネージャーとして Lazy.nvim を使用
- プラグイン設定は `lua/plugins/` でモジュール化
- パフォーマンス向上のため、プラグインはデフォルトで遅延読み込みされる
- 再現性のために、ロックファイルが正確なプラグインのバージョンを追跡

## 開発環境

### 言語サポート
この設定は、LSP サーバーを使用して複数のプログラミング言語をサポートします:
- **TypeScript/JavaScript**: ts_ls を使用し、インレイヒントと Node.js プロジェクト検出をサポート
- **Lua**: lua_ls を使用し、Neovim 設定開発をサポート
- **Python**: pyright を使用し、Rye 環境検出をサポート
- **Rust**: rustaceanvim 経由の rust-analyzer を使用し、包括的なツールを提供
- **C/C++**: clangd を使用し、バックグラウンドインデックスと clang-tidy をサポート
- **LaTeX**: ltex を使用し、ドキュメント編集をサポート

### 主な機能
- 保存時の自動フォーマット
- サポートされている言語でインレイヒントを有効化
- blink.cmp による LSP ベースの補完
- 補完候補のゴーストテキスト
- 包括的な LSP キーバインド（gd, gD, gi, gr, K）
- 補完候補をカーソル以下にも提示
- 通知は右上のトースト表示
- status lineはシックだが派手に情報量が多くなるようにしなさい。
- テーマはcappuccin
- コマンドの入力をフローティングウィンドウのようにしたい
- リファクタリングのサポートはできるだけ多くしたい。
- gitのコンフリクト解消を効率的に行いたい。
- gitに関する機能はモリモリにしたい。ゴーストテキストによる変更commitとか。
- Telescopeでできる操作はモリモリにしたい。
- dashboard-nvimによる派手化。
- その他rustについてはできるだけ多くの機能をサポートしなさい。

## 一般的な操作

これは（典型的な開発プロジェクトではなく）Neovim の設定であるため、一般的な操作は次のとおりです:

1. **プラグイン管理**:
   - プラグインの更新は Lazy.nvim UI (`:Lazy`) 経由で処理
   - バージョンの一貫性を維持するために、ロックファイルをコミットする必要がある

2. **LSP 管理**:
   - `:LspInfo` を使用して LSP サーバーのステータスを確認
   - `:LspStart` を使用して言語サーバーを手動で起動

3. **設定のテスト**:
   - `:source %` で設定をリロードするか、Neovim を再起動
   - 設定ファイル内の Lua 構文エラーを確認

## 注意事項

- `lazy-lock.json` には解決が必要なマージコンフリクトマーカーが含まれている
- 一部の LSP 設定にはコメントアウトされたセクションがある。これらは意図的なものであり、削除すべきではない。将来の設定のためのメモやプレースホルダーとして機能する。
- Python LSP のセットアップには、クロスプラットフォームでの使用のために調整が必要な場合がある Windows 固有のパス処理が含まれている
